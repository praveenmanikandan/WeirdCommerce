(window.webpackJsonp=window.webpackJsonp||[]).push([["1898"],{"2xqg":function(e,t,a){var n=a("UNi/"),r=a("EwQA"),c=a("Sxd8"),s=9007199254740991,i=4294967295,o=Math.min;e.exports=function(e,t){if((e=c(e))<1||e>s)return[];var a=i,l=o(e,i);t=r(t),e-=i;for(var d=n(l,t);++a<e;)t(a);return d}},"3mGJ":function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),c=(a("Wt1U"),a("TSYQ")),s=a.n(c),i=(a("17x9"),a("q1tI")),o=a.n(i),l=a("ZeOK"),d=a("ICNK"),u=a("Y53p"),p=a("H+2d");function m(e){var t=e.children,a=e.className,n=e.compact,c=e.content,i=e.horizontal,h=e.piled,f=e.raised,b=e.size,O=e.stacked,v=s()("ui",b,Object(l.a)(n,"compact"),Object(l.a)(i,"horizontal"),Object(l.a)(h,"piled"),Object(l.a)(f,"raised"),Object(l.a)(O,"stacked"),"segments",a),j=Object(d.a)(m,e),g=Object(u.a)(m,e);return o.a.createElement(g,r()({},j,{className:v}),p.a.isNil(t)?c:t)}m.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],m.propTypes={};var h=m;function f(e){var t=e.children,a=e.className,n=e.content,c=s()("inline",a),i=Object(d.a)(f,e),l=Object(u.a)(f,e);return o.a.createElement(l,r()({},i,{className:c}),p.a.isNil(t)?n:t)}f.handledProps=["as","children","className","content"],f.propTypes={};var b=f;function O(e){var t=e.attached,a=e.basic,n=e.children,c=e.circular,i=e.className,m=e.clearing,h=e.color,f=e.compact,b=e.content,v=e.disabled,j=e.floated,g=e.inverted,y=e.loading,E=e.placeholder,N=e.padded,x=e.piled,k=e.raised,C=e.secondary,S=e.size,w=e.stacked,I=e.tertiary,P=e.textAlign,T=e.vertical,K=s()("ui",h,S,Object(l.a)(a,"basic"),Object(l.a)(c,"circular"),Object(l.a)(m,"clearing"),Object(l.a)(f,"compact"),Object(l.a)(v,"disabled"),Object(l.a)(g,"inverted"),Object(l.a)(y,"loading"),Object(l.a)(E,"placeholder"),Object(l.a)(x,"piled"),Object(l.a)(k,"raised"),Object(l.a)(C,"secondary"),Object(l.a)(w,"stacked"),Object(l.a)(I,"tertiary"),Object(l.a)(T,"vertical"),Object(l.b)(t,"attached"),Object(l.b)(N,"padded"),Object(l.c)(P),Object(l.d)(j,"floated"),"segment",i),q=Object(d.a)(O,e),M=Object(u.a)(O,e);return o.a.createElement(M,r()({},q,{className:K}),p.a.isNil(n)?b:n)}O.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],O.Group=h,O.Inline=b,O.propTypes={};t.a=O},"5pKv":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"6BQ9":function(e,t,a){e.exports=a("uekQ")},"8OQS":function(e,t){e.exports=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}},Elh8:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bazaar/show",function(){var e=a("meAF");return{page:e.default||e}}])},MPSb:function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),c=a("TSYQ"),s=a.n(c),i=(a("17x9"),a("q1tI")),o=a.n(i),l=a("ICNK"),d=a("Y53p"),u=a("H+2d"),p=a("ZeOK"),m=a("MZgk");function h(e){var t=e.children,a=e.className,n=e.content,c=s()("header",a),i=Object(l.a)(h,e),p=Object(d.a)(h,e);return o.a.createElement(p,r()({},i,{className:c}),u.a.isNil(t)?n:t)}h.handledProps=["as","children","className","content"],h.propTypes={},h.create=Object(m.f)(h,function(e){return{content:e}});var f=h;function b(e){var t=e.children,a=e.className,n=e.content,c=s()("description",a),i=Object(l.a)(b,e),p=Object(d.a)(b,e);return o.a.createElement(p,r()({},i,{className:c}),u.a.isNil(t)?n:t)}b.handledProps=["as","children","className","content"],b.propTypes={},b.create=Object(m.f)(b,function(e){return{content:e}});var O=b;function v(e){var t=e.children,a=e.className,n=e.content,c=s()("extra",a),i=Object(l.a)(v,e),p=Object(d.a)(v,e);return o.a.createElement(p,r()({},i,{className:c}),u.a.isNil(t)?n:t)}v.handledProps=["as","children","className","content"],v.propTypes={},v.create=Object(m.f)(v,function(e){return{content:e}});var j=v;function g(e){var t=e.children,a=e.className,n=e.content,c=s()("meta",a),i=Object(l.a)(g,e),p=Object(d.a)(g,e);return o.a.createElement(p,r()({},i,{className:c}),u.a.isNil(t)?n:t)}g.handledProps=["as","children","className","content"],g.propTypes={},g.create=Object(m.f)(g,function(e){return{content:e}});var y=g;function E(e){var t=e.children,a=e.className,n=e.content,c=e.description,i=e.extra,m=e.header,h=e.meta,b=e.verticalAlign,v=s()(Object(p.e)(b),"content",a),g=Object(l.a)(E,e),N=Object(d.a)(E,e);return u.a.isNil(t)?o.a.createElement(N,r()({},g,{className:v}),f.create(m,{autoGenerateKey:!1}),y.create(h,{autoGenerateKey:!1}),O.create(c,{autoGenerateKey:!1}),j.create(i,{autoGenerateKey:!1}),n):o.a.createElement(N,r()({},g,{className:v}),t)}E.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],E.propTypes={};var N=E,x=a("QILm"),k=a.n(x),C=a("3WF5"),S=a.n(C);function w(e){var t=e.children,a=e.className,n=e.content,c=e.divided,i=e.items,m=e.link,h=e.relaxed,f=e.unstackable,b=s()("ui",Object(p.a)(c,"divided"),Object(p.a)(m,"link"),Object(p.a)(f,"unstackable"),Object(p.b)(h,"relaxed"),"items",a),O=Object(l.a)(w,e),v=Object(d.a)(w,e);if(!u.a.isNil(t))return o.a.createElement(v,r()({},O,{className:b}),t);if(!u.a.isNil(n))return o.a.createElement(v,r()({},O,{className:b}),n);var j=S()(i,function(e){var t=e.childKey,a=k()(e,["childKey"]),n=t||[a.content,a.description,a.header,a.meta].join("-");return o.a.createElement(M,r()({},a,{key:n}))});return o.a.createElement(v,r()({},O,{className:b}),j)}w.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],w.propTypes={};var I=w,P=a("5XkN");function T(e){var t=e.size,a=Object(l.a)(T,e);return o.a.createElement(P.a,r()({},a,{size:t,ui:!!t,wrapped:!0}))}T.handledProps=["size"],T.propTypes={},T.create=Object(m.f)(T,function(e){return{src:e}});var K=T;function q(e){var t=e.children,a=e.className,n=e.content,c=e.description,i=e.extra,p=e.header,m=e.image,h=e.meta,f=s()("item",a),b=Object(l.a)(q,e),O=Object(d.a)(q,e);return u.a.isNil(t)?o.a.createElement(O,r()({},b,{className:f}),K.create(m,{autoGenerateKey:!1}),o.a.createElement(N,{content:n,description:c,extra:i,header:p,meta:h})):o.a.createElement(O,r()({},b,{className:f}),t)}q.handledProps=["as","children","className","content","description","extra","header","image","meta"],q.Content=N,q.Description=O,q.Extra=j,q.Group=I,q.Header=f,q.Image=K,q.Meta=y,q.propTypes={};var M=t.a=q},QILm:function(e,t,a){var n=a("8OQS");e.exports=function(e,t){if(null==e)return{};var a,r,c=n(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}},T4g4:function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),c=a("MVZn"),s=a.n(c),i=a("lwsE"),o=a.n(i),l=a("W8MJ"),d=a.n(l),u=a("a1gu"),p=a.n(u),m=a("Nsbk"),h=a.n(m),f=a("7W2i"),b=a.n(f),O=a("PJYZ"),v=a.n(O),j=a("lSNA"),g=a.n(j),y=a("2xqg"),E=a.n(y),N=a("Og4/"),x=a.n(N),k=(a("Wt1U"),a("TSYQ")),C=a.n(k),S=(a("17x9"),a("q1tI")),w=a.n(S),I=a("ZeOK"),P=a("ICNK"),T=a("Y53p"),K=a("g4M/"),q=a("R2a4"),M=a.n(q),z=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=p()(this,(e=h()(t)).call.apply(e,[this].concat(r))),g()(v()(v()(a)),"handleClick",function(e){x()(a.props,"onClick",e,a.props)}),g()(v()(v()(a)),"handleKeyUp",function(e){switch(x()(a.props,"onKeyUp",e,a.props),M.a.getCode(e)){case M.a.Enter:case M.a.Spacebar:e.preventDefault(),x()(a.props,"onClick",e,a.props)}}),g()(v()(v()(a)),"handleMouseEnter",function(e){x()(a.props,"onMouseEnter",e,a.props)}),a}return b()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,a=e.active,n=e.className,c=e.selected,s=C()(Object(I.a)(a,"active"),Object(I.a)(c,"selected"),"icon",n),i=Object(P.a)(t,this.props),o=Object(T.a)(t,this.props);return w.a.createElement(o,r()({},i,{className:s,onClick:this.handleClick,onKeyUp:this.handleKeyUp,onMouseEnter:this.handleMouseEnter,role:"radio"}))}}]),t}(S.Component);g()(z,"defaultProps",{as:"i"}),g()(z,"handledProps",["active","as","className","index","onClick","onKeyUp","onMouseEnter","selected"]),z.propTypes={},a.d(t,"a",function(){return A});var A=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=p()(this,(e=h()(t)).call.apply(e,[this].concat(r))),g()(v()(v()(a)),"handleIconClick",function(e,t){var n=t.index,r=a.props,c=r.clearable,i=r.disabled,o=r.maxRating,l=r.onRate,d=a.state.rating;if(!i){var u=n+1;"auto"===c&&1===o?u=+!d:!0===c&&u===d&&(u=0),a.trySetState({rating:u},{isSelecting:!1}),l&&l(e,s()({},a.props,{rating:u}))}}),g()(v()(v()(a)),"handleIconMouseEnter",function(e,t){var n=t.index;a.props.disabled||a.setState({selectedIndex:n,isSelecting:!0})}),g()(v()(v()(a)),"handleMouseLeave",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.a.apply(void 0,[a.props,"onMouseLeave"].concat(t)),a.props.disabled||a.setState({selectedIndex:-1,isSelecting:!1})}),a}return b()(t,e),d()(t,[{key:"render",value:function(){var e=this,a=this.props,n=a.className,c=a.disabled,s=a.icon,i=a.maxRating,o=a.size,l=this.state,d=l.rating,u=l.selectedIndex,p=l.isSelecting,m=C()("ui",s,o,Object(I.a)(c,"disabled"),Object(I.a)(p&&!c&&u>=0,"selected"),"rating",n),h=Object(P.a)(t,this.props),f=Object(T.a)(t,this.props);return w.a.createElement(f,r()({},h,{className:m,role:"radiogroup",onMouseLeave:this.handleMouseLeave,tabIndex:c?0:-1}),E()(i,function(t){return w.a.createElement(z,{tabIndex:c?-1:0,active:d>=t+1,"aria-checked":d===t+1,"aria-posinset":t+1,"aria-setsize":i,index:t,key:t,onClick:e.handleIconClick,onMouseEnter:e.handleIconMouseEnter,selected:u>=t&&p})}))}}]),t}(K.a);g()(A,"autoControlledProps",["rating"]),g()(A,"defaultProps",{clearable:"auto",maxRating:1}),g()(A,"Icon",z),g()(A,"handledProps",["as","className","clearable","defaultRating","disabled","icon","maxRating","onRate","rating","size"]),A.propTypes={}},XWtR:function(e,t,a){var n=a("5T2Y").parseInt,r=a("oc46").trim,c=a("5pKv"),s=/^[-+]?0[xX]/;e.exports=8!==n(c+"08")||22!==n(c+"0x16")?function(e,t){var a=r(String(e),3);return n(a,t>>>0||(s.test(a)?16:10))}:n},dEVD:function(e,t,a){var n=a("Y7ZC"),r=a("XWtR");n(n.G+n.F*(parseInt!=r),{parseInt:r})},meAF:function(e,t,a){"use strict";a.r(t);var n=a("0iUn"),r=a("sLSF"),c=a("MI3g"),s=a("a7VT"),i=a("Tit0"),o=a("q1tI"),l=a.n(o),d=a("CafY"),u=a("AT/M"),p=a("vYYK"),m=a("R6OX"),h=a("3mGJ"),f=a("Ktyj"),b=a("vFsZ"),O=a("umxb"),v=a("pLir"),j=a("MqQV"),g=a("yZlV"),y=a("TbSc"),E=a("QetY"),N=a("MPSb"),x=a("D1pA"),k=a("T4g4"),C=(o.Component,a("V3SR"),function(e){function t(e){var a;return Object(n.default)(this,t),a=Object(c.default)(this,Object(s.default)(t).call(this,e)),Object(p.a)(Object(u.default)(a),"onTagUpdate",function(e){var t=[];e.forEach(function(e){var a=e.data(),n=a.key,r=a.text,c=a.value;t.push({key:n,text:r,value:c})}),a.setState({tags:t})}),Object(p.a)(Object(u.default)(a),"onBidUpdate",function(e){var t=[];e.forEach(function(e){var a=e.data(),n=a.name,r=a.price,c=a.quantity,s=a.description,i=a.tag;t.push({name:n,price:r,quantity:c,description:s,tag:i})}),a.setState({bids:t})}),Object(p.a)(Object(u.default)(a),"updateInput",function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))}),Object(p.a)(Object(u.default)(a),"selectInput",function(e,t){var n=t.value;a.setState({tag:n})}),Object(p.a)(Object(u.default)(a),"onSubmit",function(e){e.preventDefault(),a.setState({error:"",success:!1});try{if(""===a.state.tag)throw"Please Select the tag of your product";f.a.firestore().collection("bazaars/".concat(a.props.id,"/bids")).add({name:a.state.name,price:a.state.price,quantity:a.state.quantity,description:a.state.description,tag:a.state.tag}),a.setState({name:"",price:"",quantity:"",description:"",tag:"",success:!0})}catch(t){a.setState({error:t})}}),a.state={bids:[],tags:[],name:"",price:"",quantity:"",description:"",tag:"",error:"",success:!1},a.ref=f.a.firestore().collection("tags"),a.refbid=f.a.firestore().collection("bazaars/".concat(a.props.id,"/bids")),a.tags=null,a.bids=null,a}return Object(i.default)(t,e),Object(r.default)(t,[{key:"componentDidMount",value:function(){this.bids=this.refbid.onSnapshot(this.onBidUpdate),this.tags=this.ref.onSnapshot(this.onTagUpdate)}},{key:"render",value:function(){var e=this.state.tag;return l.a.createElement("div",{className:"bid"},l.a.createElement(b.a,{onSubmit:this.onSubmit,error:!!this.state.error,success:this.state.success},l.a.createElement(b.a.Field,{required:!0,width:16,control:O.a,className:"txtbox",placeholder:"Enter the Item name",onChange:this.updateInput,name:"name",value:this.state.name}),l.a.createElement(b.a.Field,Object(p.a)({required:!0,width:16,control:v.a,className:"txtbox",placeholder:"Select your tag",fluid:!0,search:!0,selection:!0,options:this.state.tags,clearable:!0,name:"tag",onChange:this.selectInput,value:e},"width",16)),l.a.createElement(b.a.Field,Object(p.a)({required:!0,width:16,control:O.a,className:"txtbox",labelPosition:"right",type:"text",placeholder:"Amount",name:"price",onChange:this.updateInput,value:this.state.price},"width",16),l.a.createElement(j.a,{basic:!0},"$"),l.a.createElement("input",null),l.a.createElement(j.a,null,".00")),l.a.createElement(b.a.Field,{required:!0,width:16,control:O.a,className:"txtbox",placeholder:"Enter quantity...",name:"quantity",onChange:this.updateInput,value:this.state.quantity}),l.a.createElement(b.a.Field,{width:16,control:g.a,required:!0,placeholder:"Enter your product description",name:"description",onChange:this.updateInput,value:this.state.description}),l.a.createElement(y.a,{error:!0,header:"Oops! Something went wrong.",content:this.state.error}),l.a.createElement(y.a,{success:!0,header:"Success!",content:"Your bid posted successfully"}),l.a.createElement(E.a,{positive:!0},"Bid")))}}]),t}(o.Component)),S=a("6BQ9"),w=a.n(S),I=a("P4Kw"),P=a("UNfG"),T=a("aQu0"),K=a("fuXp"),q=a("T5N5"),M=function(e){function t(){var e,a;Object(n.default)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=Object(c.default)(this,(e=Object(s.default)(t)).call.apply(e,[this].concat(i))),Object(p.a)(Object(u.default)(a),"state",{rating:4,quantity:1,loading:!1,popup:!1,errContent:"",user:"",delivery:!0,image:"",success:!1,total:w()(a.props.price)}),Object(p.a)(Object(u.default)(a),"placeOrder",function(){a.setState({open:!0,popup:!1})}),Object(p.a)(Object(u.default)(a),"componentDidMount",function(){f.a.storage().ref(a.props.url).getDownloadURL().then(function(e){a.setState({image:e})});var e=localStorage.getItem("userid");a.setState({user:e})}),Object(p.a)(Object(u.default)(a),"openPopup",function(){a.setState({popup:!0})}),Object(p.a)(Object(u.default)(a),"cloasePopup",function(){a.setState({popup:!1})}),Object(p.a)(Object(u.default)(a),"handleConfirm",function(){a.setState({loading:!0,errContent:""});try{f.a.firestore().collection("users").doc(a.state.user).get().then(function(e){var t=e.data().address;f.a.firestore().collection("users/".concat(a.props.userid,"/orders")).add({productname:a.props.name,price:a.props.price,quantity:a.state.quantity,total:a.state.total,customer:a.state.user,url:a.props.url,tag:a.props.tag,delivery:a.state.delivery,address:t,status:"pending"}).then(function(e){f.a.firestore().collection("users/".concat(a.state.user,"/mycart")).doc(e.id).set({productname:a.props.name,tag:a.props.tag,price:a.props.price,quantity:a.state.quantity,total:a.state.total,delivery:a.state.delivery,url:a.props.url,status:"pending",shopname:a.props.shopname,retailer:a.props.userid}).then(function(){a.setState({loading:!1,popup:!1,success:!0})})})})}catch(e){a.setState({loading:!1,errContent:e.message,popup:!0})}}),Object(p.a)(Object(u.default)(a),"handleIncrease",function(){var e=a.state,t=e.quantity,n=e.total,r=w()(a.props.price);a.setState({quantity:t+1,total:n+r})}),Object(p.a)(Object(u.default)(a),"handleDecrease",function(){var e=a.state,t=e.quantity,n=e.total,r=w()(a.props.price);t>1&&a.setState({quantity:t-1,total:n-r})}),Object(p.a)(Object(u.default)(a),"toggle",function(){a.setState({delivery:!a.state.delivery})}),Object(p.a)(Object(u.default)(a),"handleClose",function(){a.setState({success:!1})}),a}return Object(i.default)(t,e),Object(r.default)(t,[{key:"render",value:function(){return l.a.createElement(N.a,{style:{margin:"10px"}},""===this.state.image?l.a.createElement(I.a,{style:{height:150,width:150,marginRight:"10px"}},l.a.createElement(I.a.Image,null)):l.a.createElement(N.a.Image,{size:"small",src:this.state.image}),l.a.createElement(N.a.Content,null,l.a.createElement(N.a.Header,null,this.props.name),l.a.createElement(N.a.Meta,null,"$ ",this.props.price),l.a.createElement(N.a.Extra,null,l.a.createElement(P.a,{open:this.state.success,onClose:this.handleClose},l.a.createElement(y.a,{success:!0,style:{left:"35%",position:"fixed",bottom:"0%",width:"40%",zIndex:1e3}},l.a.createElement(T.a,null,"Success!"),l.a.createElement("p",null,"Your order have been placed."),l.a.createElement("p",null,"Click away to close this message"))),l.a.createElement(j.a,null,this.props.tag)," ",l.a.createElement(k.a,{maxRating:5,clearable:!0})),l.a.createElement(N.a.Description,null,this.props.description),l.a.createElement(K.a,{open:this.state.popup,onOpen:this.openPopup,onClose:this.cloasePopup,trigger:l.a.createElement(E.a,{color:"green",floated:"right",style:{marginRight:"20px"},animated:"fade"},l.a.createElement(E.a.Content,{visible:!0},"Place Order at $",this.props.price),l.a.createElement(E.a.Content,{hidden:!0}," ","Shop ",l.a.createElement(x.a,{name:"shop"})))},l.a.createElement(K.a.Header,null,"Place your order"),l.a.createElement(K.a.Content,null,l.a.createElement(b.a,{error:!!this.state.errContent},l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},l.a.createElement(O.a,{value:this.state.quantity}),l.a.createElement(E.a,{color:"blue",style:{marginLeft:"5px"},onClick:this.handleIncrease},l.a.createElement(x.a,{name:"plus"})),l.a.createElement(E.a,{color:"blue",onClick:this.handleDecrease},l.a.createElement(x.a,{name:"minus"}))),l.a.createElement("br",null),l.a.createElement(y.a,{error:!0,header:"Oops! Something went wrong",content:this.state.errContent}),l.a.createElement(q.a,{name:"delivery",label:"Need Delivery?",value:!0,checked:this.state.delivery,onChange:this.toggle}))),l.a.createElement(K.a.Actions,null,l.a.createElement(j.a,{style:{float:"left",background:"#F9FAFB",fontSize:"20px"}},"Total: $",this.state.total),l.a.createElement(E.a,{onClick:this.cloasePopup},"Cancel"),l.a.createElement(E.a,{color:"green",onClick:this.handleConfirm,loading:this.state.loading},"Place Order")))))}}]),t}(o.Component),z=function(e){function t(e){var a;return Object(n.default)(this,t),a=Object(c.default)(this,Object(s.default)(t).call(this,e)),Object(p.a)(Object(u.default)(a),"onOfferUpdate",function(e){var t=[];e.forEach(function(e){var a=e.data(),n=a.name,r=a.url,c=a.price,s=a.tag,i=a.description,o=a.store,l=a.userid,d=a.shopname,u=e.id;t.push({id:u,name:n,url:r,price:c,tag:s,store:o,userid:l,description:i,shopname:d})}),a.setState({offers:t})}),a.state={offers:[]},a.offers=null,a}return Object(i.default)(t,e),Object(r.default)(t,[{key:"componentDidMount",value:function(){f.a.firestore().collection("bazaars/".concat(this.props.id,"/offers")).onSnapshot(this.onOfferUpdate)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{style:{paddingTop:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#DCDCDC"}},l.a.createElement(N.a.Group,{divided:!0,style:{marginRight:"20px"}},this.state.offers.map(function(e){return l.a.createElement(M,{key:e.id,name:e.name,price:e.price,tag:e.tag,description:e.description,store:e.store,userid:e.userid,shopname:e.shopname,url:e.url})}))))}}]),t}(o.Component),A=function(e){function t(e){var a;return Object(n.default)(this,t),a=Object(c.default)(this,Object(s.default)(t).call(this,e)),Object(p.a)(Object(u.default)(a),"onOfferUpdate",function(e){var t=[];e.forEach(function(e){var a=e.data(),n=a.name,r=a.price,c=a.tag,s=a.description;t.push({name:n,price:r,tag:c,description:s})}),a.setState({bids:t})}),a.state={bids:[]},a.refbids=f.a.firestore().collection("bazaars/".concat(a.props.id,"/bids")),a.bids=null,a}return Object(i.default)(t,e),Object(r.default)(t,[{key:"componentDidMount",value:function(){this.bids=this.refbids.onSnapshot(this.onOfferUpdate)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Here comes the filter options with title"),l.a.createElement("div",{style:{paddingTop:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#DCDCDC"}},l.a.createElement(N.a.Group,{divided:!0},this.state.bids.map(function(e){return l.a.createElement(M,{name:e.name,price:e.price,tag:e.tag,description:e.description})}))))}}]),t}(o.Component),D=function(e){function t(e){var a;return Object(n.default)(this,t),a=Object(c.default)(this,Object(s.default)(t).call(this,e)),Object(p.a)(Object(u.default)(a),"updateInput",function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))}),Object(p.a)(Object(u.default)(a),"selectInput",function(e,t){var n=t.value,r=a.state.products.find(function(e){return e.value==n}),c=r.text,s=r.tag,i=r.url;a.setState({name:c,tag:s,url:i})}),Object(p.a)(Object(u.default)(a),"onSubmit",function(e){e.preventDefault(),a.setState({erro:"",success:!1});try{if(""===a.state.tag)throw"Please the select the tag of your product";f.a.firestore().collection("users").doc(a.state.userid).get().then(function(e){var t=e.data().store;f.a.firestore().collection("bazaars/".concat(a.props.id,"/offers")).add({name:a.state.name,price:a.state.price,tag:a.state.tag,description:a.state.description,shopname:t.shopname,phone:t.phone,url:a.state.url,userid:a.state.userid}),a.setState({name:"",price:"",tag:"",description:"",store:"",error:"",success:!0})})}catch(t){a.setState({error:t})}}),a.state={offers:[],products:[],name:"",price:"",tag:"",description:"",userid:"",store:"",url:"",success:!1,error:""},a.tags=null,a}return Object(i.default)(t,e),Object(r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("userid");f.a.firestore().collection("stores").doc(t).get().then(function(a){var n=a.data().products,r=[],c=0;n.forEach(function(e){r.push({key:c,value:e.productname,text:e.productname,tag:e.tag,url:e.url}),c++}),e.setState({userid:t,products:r})})}},{key:"render",value:function(){return l.a.createElement("div",{className:"bid"},l.a.createElement(b.a,{onSubmit:this.onSubmit,error:!!this.state.error,success:this.state.success},l.a.createElement(b.a.Field,Object(p.a)({width:16,required:!0,control:v.a,className:"txtbox",placeholder:"Select your product",fluid:!0,search:!0,selection:!0,options:this.state.products,name:"name",onChange:this.selectInput,value:this.state.name},"width",16)),l.a.createElement(b.a.Field,{width:16,required:!0,control:O.a,className:"txtbox",placeholder:"Select product name your tag will selected automatically",name:"tag",value:this.state.tag,disabled:!0}),l.a.createElement(b.a.Field,Object(p.a)({width:16,required:!0,control:O.a,className:"txtbox",labelPosition:"right",type:"text",placeholder:"Amount",name:"price",onChange:this.updateInput,value:this.state.price},"width",16),l.a.createElement(j.a,{basic:!0},"$"),l.a.createElement("input",null),l.a.createElement(j.a,null,".00")),l.a.createElement(b.a.Field,{width:16,required:!0,control:g.a,placeholder:"Enter your product description",name:"description",onChange:this.updateInput,value:this.state.description}),l.a.createElement(y.a,{error:!0,header:"Oops! something went wrong",content:this.state.error}),l.a.createElement(y.a,{success:!0,header:"Success!",content:"Your offer posted successfully. Refresh the page to see your offer"}),l.a.createElement(E.a,{positive:!0},"Post Offer")),this.state.offers.map(function(e){return l.a.createElement(M,{name:e.name,price:e.price,tag:e.tag,description:e.description,store:e.store,url:e.url})}))}}]),t}(o.Component),G=(a("D2NP"),a("z8k1")),U=a("QILm"),R=a.n(U),W=a("pVnL"),L=a.n(W),Y=(a("Wt1U"),a("3WF5")),F=a.n(Y),Q=a("TSYQ"),Z=a.n(Q),V=(a("17x9"),a("ICNK")),H=a("Y53p"),$=a("H+2d"),J=a("MZgk");function X(e){var t=e.children,a=e.className,n=e.content,r=Z()("date",a),c=Object(V.a)(X,e),s=Object(H.a)(X,e);return l.a.createElement(s,L()({},c,{className:r}),$.a.isNil(t)?n:t)}X.handledProps=["as","children","className","content"],X.propTypes={};var B=X,_=a("ZeOK");function ee(e){var t=e.children,a=e.className,n=e.content,r=e.images,c=e.text,s=Z()(Object(_.a)(r,"images"),Object(_.a)(n||c,"text"),"extra",a),i=Object(V.a)(ee,e),o=Object(H.a)(ee,e);if(!$.a.isNil(t))return l.a.createElement(o,L()({},i,{className:s}),t);var d=F()(r,function(e,t){var a=[t,e].join("-");return Object(J.a)(e,{key:a})});return l.a.createElement(o,L()({},i,{className:s}),n,d)}ee.handledProps=["as","children","className","content","images","text"],ee.propTypes={};var te=ee;function ae(e){var t=e.children,a=e.className,n=e.content,r=e.icon,c=Z()("like",a),s=Object(V.a)(ae,e),i=Object(H.a)(ae,e);return $.a.isNil(t)?l.a.createElement(i,L()({},s,{className:c}),x.a.create(r,{autoGenerateKey:!1}),n):l.a.createElement(i,L()({},s,{className:c}),t)}ae.handledProps=["as","children","className","content","icon"],ae.defaultProps={as:"a"},ae.propTypes={};var ne=ae;function re(e){var t=e.children,a=e.className,n=e.content,r=e.like,c=Z()("meta",a),s=Object(V.a)(re,e),i=Object(H.a)(re,e);return $.a.isNil(t)?l.a.createElement(i,L()({},s,{className:c}),Object(J.e)(ne,function(e){return{content:e}},r,{autoGenerateKey:!1}),n):l.a.createElement(i,L()({},s,{className:c}),t)}re.handledProps=["as","children","className","content","like"],re.propTypes={};var ce=re;function se(e){var t=e.children,a=e.className,n=e.content,r=Z()("user",a),c=Object(V.a)(se,e),s=Object(H.a)(se,e);return l.a.createElement(s,L()({},c,{className:r}),$.a.isNil(t)?n:t)}se.handledProps=["as","children","className","content"],se.propTypes={},se.defaultProps={as:"a"};var ie=se;function oe(e){var t=e.children,a=e.className,n=e.content,r=e.date,c=e.user,s=Z()("summary",a),i=Object(V.a)(oe,e),o=Object(H.a)(oe,e);return $.a.isNil(t)?l.a.createElement(o,L()({},i,{className:s}),Object(J.e)(ie,function(e){return{content:e}},c,{autoGenerateKey:!1}),n,Object(J.e)(B,function(e){return{content:e}},r,{autoGenerateKey:!1})):l.a.createElement(o,L()({},i,{className:s}),t)}oe.handledProps=["as","children","className","content","date","user"],oe.propTypes={};var le=oe;function de(e){var t=e.children,a=e.className,n=e.content,r=e.extraImages,c=e.extraText,s=e.date,i=e.meta,o=e.summary,d=Z()("content",a),u=Object(V.a)(de,e),p=Object(H.a)(de,e);return $.a.isNil(t)?l.a.createElement(p,L()({},u,{className:d}),Object(J.e)(B,function(e){return{content:e}},s,{autoGenerateKey:!1}),Object(J.e)(le,function(e){return{content:e}},o,{autoGenerateKey:!1}),n,Object(J.e)(te,function(e){return{text:!0,content:e}},c,{autoGenerateKey:!1}),Object(J.e)(te,function(e){return{images:e}},r,{autoGenerateKey:!1}),Object(J.e)(ce,function(e){return{content:e}},i,{autoGenerateKey:!1})):l.a.createElement(p,L()({},u,{className:d}),t)}de.handledProps=["as","children","className","content","date","extraImages","extraText","meta","summary"],de.propTypes={};var ue=de;function pe(e){var t=e.children,a=e.className,n=e.content,r=e.icon,c=e.image,s=Z()("label",a),i=Object(V.a)(pe,e),o=Object(H.a)(pe,e);return $.a.isNil(t)?l.a.createElement(o,L()({},i,{className:s}),n,x.a.create(r,{autoGenerateKey:!1}),Object(J.a)(c)):l.a.createElement(o,L()({},i,{className:s}),t)}pe.handledProps=["as","children","className","content","icon","image"],pe.propTypes={};var me=pe;function he(e){var t=e.content,a=e.children,n=e.className,r=e.date,c=e.extraImages,s=e.extraText,i=e.image,o=e.icon,d=e.meta,u=e.summary,p=Z()("event",n),m=Object(V.a)(he,e),h=Object(H.a)(he,e),f=t||r||c||s||d||u,b={content:t,date:r,extraImages:c,extraText:s,meta:d,summary:u};return l.a.createElement(h,L()({},m,{className:p}),Object(J.e)(me,function(e){return{icon:e}},o,{autoGenerateKey:!1}),Object(J.e)(me,function(e){return{image:e}},i,{autoGenerateKey:!1}),f&&l.a.createElement(ue,b),a)}he.handledProps=["as","children","className","content","date","extraImages","extraText","icon","image","meta","summary"],he.propTypes={};var fe=he;function be(e){var t=e.children,a=e.className,n=e.events,r=e.size,c=Z()("ui",r,"feed",a),s=Object(V.a)(be,e),i=Object(H.a)(be,e);if(!$.a.isNil(t))return l.a.createElement(i,L()({},s,{className:c}),t);var o=F()(n,function(e){var t=e.childKey,a=e.date,n=e.meta,r=e.summary,c=R()(e,["childKey","date","meta","summary"]),s=t||[a,n,r].join("-");return l.a.createElement(fe,L()({date:a,key:s,meta:n,summary:r},c))});return l.a.createElement(i,L()({},s,{className:c}),o)}be.handledProps=["as","children","className","events","size"],be.propTypes={},be.Content=ue,be.Date=B,be.Event=fe,be.Extra=te,be.Label=me,be.Like=ne,be.Meta=ce,be.Summary=le,be.User=ie;var Oe=be,ve=function(e){function t(){var e,a;Object(n.default)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=Object(c.default)(this,(e=Object(s.default)(t)).call.apply(e,[this].concat(i))),Object(p.a)(Object(u.default)(a),"state",{}),a}return Object(i.default)(t,e),Object(r.default)(t,[{key:"render",value:function(){var e=this.props.delivery;return l.a.createElement(G.a.Content,null,l.a.createElement(Oe.Event,null,l.a.createElement(Oe.Label,{style:{fontWeight:"bold"}},e.from.city," ",e.from.pincode,"-",e.to.city," ",e.to.pincode),l.a.createElement(E.a,{color:"blue",floated:"right"},"Take Delivery at $",e.total),l.a.createElement(Oe.Content,null,l.a.createElement(Oe.Date,{style:{color:" \t#808080"},content:"Investment: $"+e.price+" * "+e.quantity+" qty. = $"+e.total}),l.a.createElement(Oe.Summary,{style:{fontWeight:"bold",fontSize:"16px"}},"Reward : ",e.reward,"$100"))))}}]),t}(o.Component),je=function(e){function t(){var e,a;Object(n.default)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=Object(c.default)(this,(e=Object(s.default)(t)).call.apply(e,[this].concat(i))),Object(p.a)(Object(u.default)(a),"state",{deliveries:[]}),a}return Object(i.default)(t,e),Object(r.default)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.firestore().collection("delivery").limit(3).get().then(function(t){var a=[];t.forEach(function(e){var t=e.data(),n=t.from,r=t.to,c=t.price,s=t.quantity,i=t.total;a.push({from:n,to:r,price:c,quantity:s,total:i})}),e.setState({deliveries:a})})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(G.a,{style:{width:"100%"}},l.a.createElement(G.a.Content,null,l.a.createElement(G.a.Header,null,"Recent Deliveries")),this.state.deliveries.map(function(e){return l.a.createElement(ve,{delivery:e})})))}}]),t}(o.Component),ge=a("cmSt"),ye=function(e){function t(e){var a;return Object(n.default)(this,t),a=Object(c.default)(this,Object(s.default)(t).call(this,e)),Object(p.a)(Object(u.default)(a),"initialwidth",function(){return window.innerWidth>750}),Object(p.a)(Object(u.default)(a),"handleWindowSizeChange",function(){a.setState({width:window.innerWidth>750})}),Object(p.a)(Object(u.default)(a),"onContentUpdate",function(e){var t=[];e.forEach(function(e){var a=e.data(),n=a.name,r=a.price,c=a.description,s=a.tag;t.push({name:n,price:r,description:c,tag:s})}),a.setState({contents:t})}),Object(p.a)(Object(u.default)(a),"handleItemClick",function(e,t){var n=t.name;a.setState({activeItem:n}),"bids"===a.state.activeItem?a.ref1.onSnapshot(a.onContentUpdate):a.ref2.onSnapshot(a.onContentUpdate)}),a.state={activeItem:"offers",contents:null,width:a.initialwidth},a.ref1=f.a.firestore().collection("bazaars/".concat(a.props.id,"/offers")),a.ref2=f.a.firestore().collection("bazaars/".concat(a.props.id,"/bids")),a.contents=null,a}return Object(i.default)(t,e),Object(r.default)(t,[{key:"componentDidMount",value:function(){this.content=this.ref2.onSnapshot(this.onContentUpdate),window.addEventListener("resize",this.handleWindowSizeChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowSizeChange)}},{key:"render",value:function(){var e=this.state,t=e.activeItem,a=e.width;return l.a.createElement("div",{style:{margin:"10px"}},null===this.state.contents?l.a.createElement(ge.a,null):l.a.createElement("div",{style:{display:"flex","flex-direction":"row"}},l.a.createElement("div",{style:{width:a?"60%":"100%"}},l.a.createElement(m.a,{attached:"top",tabular:!0},l.a.createElement(m.a.Item,{name:"offers",active:"offers"===t,onClick:this.handleItemClick},"Offers")),l.a.createElement(h.a,{attached:"bottom",id:"segment"},"bids"===this.state.activeItem?l.a.createElement(C,{id:this.props.id}):l.a.createElement(D,{id:this.props.id}))),a?l.a.createElement("div",{style:{width:"40%",marginLeft:"10px"}},l.a.createElement(je,null)):null),"bids"==this.state.activeItem?l.a.createElement(A,{id:this.props.id}):l.a.createElement(z,{id:this.props.id}))}}]),t}(o.Component),Ee=function(e){function t(){return Object(n.default)(this,t),Object(c.default)(this,Object(s.default)(t).apply(this,arguments))}return Object(i.default)(t,e),Object(r.default)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(d.a,null,l.a.createElement(ye,{id:this.props.id})))}}],[{key:"getInitialProps",value:function(e){return{id:e.query.id}}}]),t}(o.Component);t.default=Ee},oc46:function(e,t,a){var n=a("Y7ZC"),r=a("Jes0"),c=a("KUxP"),s=a("5pKv"),i="["+s+"]",o=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),d=function(e,t,a){var r={},i=c(function(){return!!s[e]()||"​"!="​"[e]()}),o=r[e]=i?t(u):s[e];a&&(r[a]=o),n(n.P+n.F*i,"String",r)},u=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(o,"")),2&t&&(e=e.replace(l,"")),e};e.exports=d},uekQ:function(e,t,a){a("dEVD"),e.exports=a("WEpk").parseInt},z8k1:function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),c=a("lwsE"),s=a.n(c),i=a("W8MJ"),o=a.n(i),l=a("a1gu"),d=a.n(l),u=a("Nsbk"),p=a.n(u),m=a("7W2i"),h=a.n(m),f=a("PJYZ"),b=a.n(f),O=a("lSNA"),v=a.n(O),j=a("TSYQ"),g=a.n(j),y=(a("17x9"),a("q1tI")),E=a.n(y),N=a("ZeOK"),x=a("ICNK"),k=a("Y53p"),C=a("H+2d"),S=a("5XkN"),w=(a("Wt1U"),a("MZgk"));function I(e){var t=e.children,a=e.className,n=e.content,c=e.textAlign,s=g()(Object(N.c)(c),"description",a),i=Object(x.a)(I,e),o=Object(k.a)(I,e);return E.a.createElement(o,r()({},i,{className:s}),C.a.isNil(t)?n:t)}I.handledProps=["as","children","className","content","textAlign"],I.propTypes={};var P=I;function T(e){var t=e.children,a=e.className,n=e.content,c=e.textAlign,s=g()(Object(N.c)(c),"header",a),i=Object(x.a)(T,e),o=Object(k.a)(T,e);return E.a.createElement(o,r()({},i,{className:s}),C.a.isNil(t)?n:t)}T.handledProps=["as","children","className","content","textAlign"],T.propTypes={};var K=T;function q(e){var t=e.children,a=e.className,n=e.content,c=e.textAlign,s=g()(Object(N.c)(c),"meta",a),i=Object(x.a)(q,e),o=Object(k.a)(q,e);return E.a.createElement(o,r()({},i,{className:s}),C.a.isNil(t)?n:t)}q.handledProps=["as","children","className","content","textAlign"],q.propTypes={};var M=q;function z(e){var t=e.children,a=e.className,n=e.content,c=e.description,s=e.extra,i=e.header,o=e.meta,l=e.textAlign,d=g()(Object(N.a)(s,"extra"),Object(N.c)(l),"content",a),u=Object(x.a)(z,e),p=Object(k.a)(z,e);return C.a.isNil(t)?C.a.isNil(n)?E.a.createElement(p,r()({},u,{className:d}),Object(w.e)(K,function(e){return{content:e}},i,{autoGenerateKey:!1}),Object(w.e)(M,function(e){return{content:e}},o,{autoGenerateKey:!1}),Object(w.e)(P,function(e){return{content:e}},c,{autoGenerateKey:!1})):E.a.createElement(p,r()({},u,{className:d}),n):E.a.createElement(p,r()({},u,{className:d}),t)}z.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],z.propTypes={};var A=z,D=a("3WF5"),G=a.n(D);function U(e){var t=e.centered,a=e.children,n=e.className,c=e.content,s=e.doubling,i=e.items,o=e.itemsPerRow,l=e.stackable,d=e.textAlign,u=g()("ui",Object(N.a)(t,"centered"),Object(N.a)(s,"doubling"),Object(N.a)(l,"stackable"),Object(N.c)(d),Object(N.f)(o),"cards",n),p=Object(x.a)(U,e),m=Object(k.a)(U,e);if(!C.a.isNil(a))return E.a.createElement(m,r()({},p,{className:u}),a);if(!C.a.isNil(c))return E.a.createElement(m,r()({},p,{className:u}),c);var h=G()(i,function(e){var t=e.key||[e.header,e.description].join("-");return E.a.createElement(W,r()({key:t},e))});return E.a.createElement(m,r()({},p,{className:u}),h)}U.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],U.propTypes={};var R=U;a.d(t,"a",function(){return W});var W=function(e){function t(){var e,a;s()(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=d()(this,(e=p()(t)).call.apply(e,[this].concat(r))),v()(b()(b()(a)),"handleClick",function(e){var t=a.props.onClick;t&&t(e,a.props)}),a}return h()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,a=e.centered,n=e.children,c=e.className,s=e.color,i=e.content,o=e.description,l=e.extra,d=e.fluid,u=e.header,p=e.href,m=e.image,h=e.link,f=e.meta,b=e.onClick,O=e.raised,v=g()("ui",s,Object(N.a)(a,"centered"),Object(N.a)(d,"fluid"),Object(N.a)(h,"link"),Object(N.a)(O,"raised"),"card",c),j=Object(x.a)(t,this.props),y=Object(k.a)(t,this.props,function(){if(b)return"a"});return C.a.isNil(n)?C.a.isNil(i)?E.a.createElement(y,r()({},j,{className:v,href:p,onClick:this.handleClick}),S.a.create(m,{autoGenerateKey:!1}),(o||u||f)&&E.a.createElement(A,{description:o,header:u,meta:f}),l&&E.a.createElement(A,{extra:!0},l)):E.a.createElement(y,r()({},j,{className:v,href:p,onClick:this.handleClick}),i):E.a.createElement(y,r()({},j,{className:v,href:p,onClick:this.handleClick}),n)}}]),t}(y.Component);v()(W,"Content",A),v()(W,"Description",P),v()(W,"Group",R),v()(W,"Header",K),v()(W,"Meta",M),v()(W,"handledProps",["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"]),W.propTypes={}}},[["Elh8","5d41","9da1","ad9d"]]]);