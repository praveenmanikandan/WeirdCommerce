(window.webpackJsonp=window.webpackJsonp||[]).push([["d0a3"],{"/eQG":function(e,t,a){a("v5Dd");var n=a("WEpk").Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},"3mGJ":function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),c=(a("Wt1U"),a("TSYQ")),l=a.n(c),o=(a("17x9"),a("q1tI")),i=a.n(o),s=a("ZeOK"),u=a("ICNK"),d=a("Y53p"),p=a("H+2d");function m(e){var t=e.children,a=e.className,n=e.compact,c=e.content,o=e.horizontal,f=e.piled,h=e.raised,b=e.size,O=e.stacked,v=l()("ui",b,Object(s.a)(n,"compact"),Object(s.a)(o,"horizontal"),Object(s.a)(f,"piled"),Object(s.a)(h,"raised"),Object(s.a)(O,"stacked"),"segments",a),g=Object(u.a)(m,e),j=Object(d.a)(m,e);return i.a.createElement(j,r()({},g,{className:v}),p.a.isNil(t)?c:t)}m.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],m.propTypes={};var f=m;function h(e){var t=e.children,a=e.className,n=e.content,c=l()("inline",a),o=Object(u.a)(h,e),s=Object(d.a)(h,e);return i.a.createElement(s,r()({},o,{className:c}),p.a.isNil(t)?n:t)}h.handledProps=["as","children","className","content"],h.propTypes={};var b=h;function O(e){var t=e.attached,a=e.basic,n=e.children,c=e.circular,o=e.className,m=e.clearing,f=e.color,h=e.compact,b=e.content,v=e.disabled,g=e.floated,j=e.inverted,E=e.loading,y=e.placeholder,N=e.padded,x=e.piled,S=e.raised,k=e.secondary,C=e.size,P=e.stacked,w=e.tertiary,T=e.textAlign,I=e.vertical,D=l()("ui",f,C,Object(s.a)(a,"basic"),Object(s.a)(c,"circular"),Object(s.a)(m,"clearing"),Object(s.a)(h,"compact"),Object(s.a)(v,"disabled"),Object(s.a)(j,"inverted"),Object(s.a)(E,"loading"),Object(s.a)(y,"placeholder"),Object(s.a)(x,"piled"),Object(s.a)(S,"raised"),Object(s.a)(k,"secondary"),Object(s.a)(P,"stacked"),Object(s.a)(w,"tertiary"),Object(s.a)(I,"vertical"),Object(s.b)(t,"attached"),Object(s.b)(N,"padded"),Object(s.c)(T),Object(s.d)(g,"floated"),"segment",o),K=Object(u.a)(O,e),q=Object(d.a)(O,e);return i.a.createElement(q,r()({},K,{className:D}),p.a.isNil(n)?b:n)}O.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],O.Group=f,O.Inline=b,O.propTypes={};t.a=O},"4mXO":function(e,t,a){e.exports=a("7TPF")},"5pKv":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"6BQ9":function(e,t,a){e.exports=a("uekQ")},"7TPF":function(e,t,a){a("AUvm"),e.exports=a("WEpk").Object.getOwnPropertySymbols},"8OQS":function(e,t){e.exports=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}},"Jo+v":function(e,t,a){e.exports=a("/eQG")},MPSb:function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),c=a("TSYQ"),l=a.n(c),o=(a("17x9"),a("q1tI")),i=a.n(o),s=a("ICNK"),u=a("Y53p"),d=a("H+2d"),p=a("ZeOK"),m=a("MZgk");function f(e){var t=e.children,a=e.className,n=e.content,c=l()("header",a),o=Object(s.a)(f,e),p=Object(u.a)(f,e);return i.a.createElement(p,r()({},o,{className:c}),d.a.isNil(t)?n:t)}f.handledProps=["as","children","className","content"],f.propTypes={},f.create=Object(m.f)(f,function(e){return{content:e}});var h=f;function b(e){var t=e.children,a=e.className,n=e.content,c=l()("description",a),o=Object(s.a)(b,e),p=Object(u.a)(b,e);return i.a.createElement(p,r()({},o,{className:c}),d.a.isNil(t)?n:t)}b.handledProps=["as","children","className","content"],b.propTypes={},b.create=Object(m.f)(b,function(e){return{content:e}});var O=b;function v(e){var t=e.children,a=e.className,n=e.content,c=l()("extra",a),o=Object(s.a)(v,e),p=Object(u.a)(v,e);return i.a.createElement(p,r()({},o,{className:c}),d.a.isNil(t)?n:t)}v.handledProps=["as","children","className","content"],v.propTypes={},v.create=Object(m.f)(v,function(e){return{content:e}});var g=v;function j(e){var t=e.children,a=e.className,n=e.content,c=l()("meta",a),o=Object(s.a)(j,e),p=Object(u.a)(j,e);return i.a.createElement(p,r()({},o,{className:c}),d.a.isNil(t)?n:t)}j.handledProps=["as","children","className","content"],j.propTypes={},j.create=Object(m.f)(j,function(e){return{content:e}});var E=j;function y(e){var t=e.children,a=e.className,n=e.content,c=e.description,o=e.extra,m=e.header,f=e.meta,b=e.verticalAlign,v=l()(Object(p.e)(b),"content",a),j=Object(s.a)(y,e),N=Object(u.a)(y,e);return d.a.isNil(t)?i.a.createElement(N,r()({},j,{className:v}),h.create(m,{autoGenerateKey:!1}),E.create(f,{autoGenerateKey:!1}),O.create(c,{autoGenerateKey:!1}),g.create(o,{autoGenerateKey:!1}),n):i.a.createElement(N,r()({},j,{className:v}),t)}y.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],y.propTypes={};var N=y,x=a("QILm"),S=a.n(x),k=a("3WF5"),C=a.n(k);function P(e){var t=e.children,a=e.className,n=e.content,c=e.divided,o=e.items,m=e.link,f=e.relaxed,h=e.unstackable,b=l()("ui",Object(p.a)(c,"divided"),Object(p.a)(m,"link"),Object(p.a)(h,"unstackable"),Object(p.b)(f,"relaxed"),"items",a),O=Object(s.a)(P,e),v=Object(u.a)(P,e);if(!d.a.isNil(t))return i.a.createElement(v,r()({},O,{className:b}),t);if(!d.a.isNil(n))return i.a.createElement(v,r()({},O,{className:b}),n);var g=C()(o,function(e){var t=e.childKey,a=S()(e,["childKey"]),n=t||[a.content,a.description,a.header,a.meta].join("-");return i.a.createElement(q,r()({},a,{key:n}))});return i.a.createElement(v,r()({},O,{className:b}),g)}P.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],P.propTypes={};var w=P,T=a("5XkN");function I(e){var t=e.size,a=Object(s.a)(I,e);return i.a.createElement(T.a,r()({},a,{size:t,ui:!!t,wrapped:!0}))}I.handledProps=["size"],I.propTypes={},I.create=Object(m.f)(I,function(e){return{src:e}});var D=I;function K(e){var t=e.children,a=e.className,n=e.content,c=e.description,o=e.extra,p=e.header,m=e.image,f=e.meta,h=l()("item",a),b=Object(s.a)(K,e),O=Object(u.a)(K,e);return d.a.isNil(t)?i.a.createElement(O,r()({},b,{className:h}),D.create(m,{autoGenerateKey:!1}),i.a.createElement(N,{content:n,description:c,extra:o,header:p,meta:f})):i.a.createElement(O,r()({},b,{className:h}),t)}K.handledProps=["as","children","className","content","description","extra","header","image","meta"],K.Content=N,K.Description=O,K.Extra=g,K.Group=w,K.Header=h,K.Image=D,K.Meta=E,K.propTypes={};var q=t.a=K},QILm:function(e,t,a){var n=a("8OQS");e.exports=function(e,t){if(null==e)return{};var a,r,c=n(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}},RNiq:function(e,t,a){"use strict";a.r(t);var n=a("Jo+v"),r=a.n(n),c=a("4mXO"),l=a.n(c),o=a("pLtp"),i=a.n(o),s=a("vYYK");function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=i()(a);"function"==typeof l.a&&(n=n.concat(l()(a).filter(function(e){return r()(a,e).enumerable}))),n.forEach(function(t){Object(s.a)(e,t,a[t])})}return e}var d=a("0iUn"),p=a("sLSF"),m=a("MI3g"),f=a("a7VT"),h=a("AT/M"),b=a("Tit0"),O=a("q1tI"),v=a.n(O),g=a("CafY"),j=a("Ktyj"),E=a("MPSb"),y=a("R6OX"),N=a("pLir"),x=a("UNfG"),S=a("3mGJ"),k=a("aQu0"),C=a("QetY"),P=a("umxb"),w=a("D1pA"),T=[{key:0,text:"High To Low",value:1},{key:1,text:"Low To High",value:2}],I=function(e){function t(){var e,a;Object(d.default)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(m.default)(this,(e=Object(f.default)(t)).call.apply(e,[this].concat(r))),Object(s.a)(Object(h.default)(a),"state",{tags:[],productname:"",storename:"",tag:"",price:""}),Object(s.a)(Object(h.default)(a),"onTagUpdate",function(e){var t=[];e.forEach(function(e){var a=e.data(),n=a.key,r=a.text,c=a.value;t.push({key:n,text:r,value:c})}),a.setState({tags:t})}),Object(s.a)(Object(h.default)(a),"handleClose",function(){a.setState({visible:!1})}),Object(s.a)(Object(h.default)(a),"handleOnChange",function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))}),Object(s.a)(Object(h.default)(a),"handleTagSelect",function(e,t){var n=t.value;a.setState({tag:n})}),Object(s.a)(Object(h.default)(a),"handlePriceSelect",function(e,t){var n=t.value;a.setState({price:n})}),Object(s.a)(Object(h.default)(a),"handleOnClick",function(){var e=a.state,t=e.productname,n=e.price,r=e.storename,c=e.tag;""==c&&""==t&&""==n&&""==r?a.props.isEmpty():""==c&&""==t&&""!=n&&""==r?a.setState({visible:!0}):a.props.callbackFromParent(t,n,r,c)}),a}return Object(b.default)(t,e),Object(p.default)(t,[{key:"componentDidMount",value:function(){j.a.firestore().collection("tags").onSnapshot(this.onTagUpdate)}},{key:"render",value:function(){var e=this;return v.a.createElement(y.a,null,v.a.createElement(y.a,{secondary:!0},v.a.createElement(y.a.Item,null,v.a.createElement(N.a,{clearable:!0,search:!0,selection:!0,placeholder:"Select Tag",options:this.state.tags,name:"tag",onChange:this.handleTagSelect,style:{marginLeft:"5px",marginRight:"5px",width:"100%"},value:this.state.tag}))),v.a.createElement(x.a,{onClose:function(){return e.setState({visible:!1})},open:this.state.visible},v.a.createElement(S.a,{style:{left:"40%",position:"fixed",top:"50%",zIndex:1e3}},v.a.createElement(k.a,null,"Please fill the fields"),v.a.createElement("p",null,"You have to fill atleast one field other than price to filter the products"),v.a.createElement(C.a,{content:"Close Portal",negative:!0,onClick:this.handleClose}))),v.a.createElement(y.a,{secondary:!0},v.a.createElement(y.a.Item,null,v.a.createElement(P.a,{style:{marginLeft:"5px",marginRight:"5px"},placeholder:"Product Name",name:"productname",onChange:this.handleOnChange,value:this.state.productname})),v.a.createElement(y.a.Item,null,v.a.createElement(P.a,{placeholder:"Store Name",style:{marginLeft:"5px",marginRight:"5px"},value:this.state.storename,onChange:this.handleOnChange,name:"storename"}),v.a.createElement(y.a.Item,null,v.a.createElement(N.a,{clearable:!0,search:!0,selection:!0,placeholder:"Select Price",options:T,name:"price",onChange:this.handlePriceSelect,style:{marginLeft:"5px",marginRight:"5px",width:"100%"},value:this.state.price}))),v.a.createElement(y.a.Item,null,v.a.createElement(C.a,{color:"blue",onClick:this.handleOnClick,floated:"right"},v.a.createElement(w.a,{name:"filter"})," Filter"))))}}]),t}(O.Component),D=a("6BQ9"),K=a.n(D),q=a("P4Kw"),L=a("MqQV"),R=a("fuXp"),z=a("vFsZ"),F=a("TbSc"),Q=a("T5N5"),G=function(e){function t(){var e,a;Object(d.default)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(m.default)(this,(e=Object(f.default)(t)).call.apply(e,[this].concat(r))),Object(s.a)(Object(h.default)(a),"state",{user:"",image:"",quantity:1,errContent:"",total:K()(a.props.product.price),loading:!1,delivery:!0,popup:!1}),Object(s.a)(Object(h.default)(a),"openPopup",function(){a.setState({popup:!0})}),Object(s.a)(Object(h.default)(a),"cloasePopup",function(){a.setState({popup:!1})}),Object(s.a)(Object(h.default)(a),"handleIncrease",function(){var e=a.state,t=e.quantity,n=e.total,r=K()(a.props.product.price);a.setState({quantity:t+1,total:n+r})}),Object(s.a)(Object(h.default)(a),"handleDecrease",function(){var e=a.state,t=e.quantity,n=e.total,r=K()(a.props.product.price);t>1&&a.setState({quantity:t-1,total:n-r})}),Object(s.a)(Object(h.default)(a),"toggle",function(){a.setState({delivery:!a.state.delivery})}),Object(s.a)(Object(h.default)(a),"handleClose",function(){a.setState({success:!1})}),Object(s.a)(Object(h.default)(a),"handleConfirm",function(){a.setState({loading:!0,errContent:""});try{j.a.firestore().collection("users").doc(a.state.user).get().then(function(e){var t=e.data().address;j.a.firestore().collection("users/".concat(a.props.product.id,"/orders")).add({productname:a.props.product.productname,price:a.props.product.price,quantity:a.state.quantity,total:a.state.total,customer:a.state.user,url:a.props.product.url,tag:a.props.product.tag,delivery:a.state.delivery,address:t,status:"pending"}).then(function(e){j.a.firestore().collection("users/".concat(a.state.user,"/mycart")).doc(e.id).set({productname:a.props.product.productname,tag:a.props.product.tag,price:a.props.product.price,quantity:a.state.quantity,total:a.state.total,delivery:a.state.delivery,url:a.props.product.url,status:"pending",shopname:a.props.product.shopname,retailer:a.props.product.id}).then(function(){a.setState({loading:!1,popup:!1,success:!0})})})})}catch(e){a.setState({loading:!1,errContent:e.message,popup:!0})}}),a}return Object(b.default)(t,e),Object(p.default)(t,[{key:"componentDidMount",value:function(){var e=this;j.a.storage().ref(this.props.product.url).getDownloadURL().then(function(t){e.setState({image:t})});var t=localStorage.getItem("userid");this.setState({user:t})}},{key:"render",value:function(){var e=this.props.product;return v.a.createElement(E.a,null,""===this.state.image?v.a.createElement(q.a,{style:{height:150,width:150,marginRight:"10px"}},v.a.createElement(q.a.Image,null)):v.a.createElement(E.a.Image,{size:"small",src:this.state.image}),v.a.createElement(E.a.Content,null,v.a.createElement(E.a.Header,{as:"a"},e.productname),v.a.createElement(E.a.Meta,null,e.shopname),v.a.createElement(E.a.Meta,null,"$",e.price,v.a.createElement(L.a,{style:{margin:"5px"}},e.tag)),v.a.createElement(E.a.Extra,null,v.a.createElement(R.a,{open:this.state.popup,onOpen:this.openPopup,onClose:this.cloasePopup,trigger:v.a.createElement(C.a,{color:"green",style:{marginRight:"20px"},animated:"fade"},v.a.createElement(C.a.Content,{visible:!0},"Buy at $",e.price),v.a.createElement(C.a.Content,{hidden:!0}," ","Shop ",v.a.createElement(w.a,{name:"shop"})))},v.a.createElement(R.a.Header,null,"Place your order"),v.a.createElement(R.a.Content,null,v.a.createElement(z.a,{error:!!this.state.errContent},v.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},v.a.createElement(P.a,{value:this.state.quantity}),v.a.createElement(C.a,{color:"blue",style:{marginLeft:"5px"},onClick:this.handleIncrease},v.a.createElement(w.a,{name:"plus"})),v.a.createElement(C.a,{color:"blue",onClick:this.handleDecrease},v.a.createElement(w.a,{name:"minus"}))),v.a.createElement("br",null),v.a.createElement(F.a,{error:!0,header:"Oops! Something went wrong",content:this.state.errContent}),v.a.createElement(Q.a,{name:"delivery",label:"Need Delivery?",value:!0,checked:this.state.delivery,onChange:this.toggle}))),v.a.createElement(R.a.Actions,null,v.a.createElement(L.a,{style:{float:"left",background:"#F9FAFB",fontSize:"20px"}},"Total: $",this.state.total),v.a.createElement(C.a,{onClick:this.cloasePopup},"Cancel"),v.a.createElement(C.a,{color:"green",onClick:this.handleConfirm,loading:this.state.loading},"Place Order"))),v.a.createElement(x.a,{open:this.state.success,onClose:this.handleClose},v.a.createElement(F.a,{success:!0,style:{left:"35%",position:"fixed",bottom:"0%",width:"40%",zIndex:1e3}},v.a.createElement(k.a,null,"Success!"),v.a.createElement("p",null,"Your order have been placed."),v.a.createElement("p",null,"Click away to close this message"))))))}}]),t}(O.Component),Y=a("cmSt"),A=function(e){function t(){var e,a;Object(d.default)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(m.default)(this,(e=Object(f.default)(t)).call.apply(e,[this].concat(r))),Object(s.a)(Object(h.default)(a),"state",{finalProducts:[]}),Object(s.a)(Object(h.default)(a),"handleFilter",function(e,t,n,r){a.setState({loading:!0}),""!=n?j.a.firestore().collection("stores").where("shopname","==",n).where("available","==",!0).get().then(function(n){var c=[];n.forEach(function(n){var l=n.data(),o=l.shopname,i=l.products,s=n.id;if(""!=e?i.filter(function(t){t.productname.includes(e)&&(t=u({},t,{shopname:o,id:s}),c.push(t))}):i.forEach(function(e){e=u({},e,{shopname:o,id:s}),c.push(e)}),""!=r){var d=[];c.filter(function(e){e.tag==r&&d.push(e)}),c=[].concat(d)}2==t&&c.sort(function(e,t){return e.price-t.price}),1==t&&c.sort(function(e,t){return t.price-e.price}),a.setState({finalProducts:c,loading:!1})})}):j.a.firestore().collection("stores").where("available","==",!0).get().then(function(n){var c=[];n.forEach(function(n){var l=n.data(),o=l.shopname,i=l.products,s=n.id;if(""!=e?i.filter(function(t){t.productname.includes(e)&&(t=u({},t,{shopname:o,id:s}),c.push(t))}):i.forEach(function(e){e=u({},e,{shopname:o,id:s}),c.push(e)}),""!=r){var d=[];c.filter(function(e){e.tag==r&&d.push(e)}),c=[].concat(d)}2==t&&c.sort(function(e,t){return e.price-t.price}),1==t&&c.sort(function(e,t){return t.price-e.price}),a.setState({finalProducts:c,loading:!1})})})}),Object(s.a)(Object(h.default)(a),"isEmpty",function(){a.setState({loading:!0}),j.a.firestore().collection("stores").where("available","==",!0).limit(10).get().then(function(e){var t=[];e.forEach(function(e){var n=e.data(),r=n.shopname,c=n.products,l=e.id;c.forEach(function(e){t.push(u({},e,{shopname:r,id:l}))}),a.setState({finalProducts:t,loading:!1})})})}),Object(s.a)(Object(h.default)(a),"componentDidMount",function(){a.isEmpty()}),a}return Object(b.default)(t,e),Object(p.default)(t,[{key:"render",value:function(){return v.a.createElement(g.a,{activeItem:"home"},v.a.createElement("div",{style:{margin:"10px"}},v.a.createElement(I,{callbackFromParent:this.handleFilter,isEmpty:this.isEmpty}),!0===this.state.loading?v.a.createElement(Y.a,{white:!0}):v.a.createElement(E.a.Group,null,this.state.finalProducts.map(function(e){return v.a.createElement(G,{product:e,key:e.productname+e.id})}))))}}]),t}(O.Component);t.default=A},XWtR:function(e,t,a){var n=a("5T2Y").parseInt,r=a("oc46").trim,c=a("5pKv"),l=/^[-+]?0[xX]/;e.exports=8!==n(c+"08")||22!==n(c+"0x16")?function(e,t){var a=r(String(e),3);return n(a,t>>>0||(l.test(a)?16:10))}:n},dEVD:function(e,t,a){var n=a("Y7ZC"),r=a("XWtR");n(n.G+n.F*(parseInt!=r),{parseInt:r})},oc46:function(e,t,a){var n=a("Y7ZC"),r=a("Jes0"),c=a("KUxP"),l=a("5pKv"),o="["+l+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(e,t,a){var r={},o=c(function(){return!!l[e]()||"​"!="​"[e]()}),i=r[e]=o?t(d):l[e];a&&(r[a]=i),n(n.P+n.F*o,"String",r)},d=u.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(i,"")),2&t&&(e=e.replace(s,"")),e};e.exports=u},uekQ:function(e,t,a){a("dEVD"),e.exports=a("WEpk").parseInt},v5Dd:function(e,t,a){var n=a("NsO/"),r=a("vwuL").f;a("zn7N")("getOwnPropertyDescriptor",function(){return function(e,t){return r(n(e),t)}})},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){var e=a("RNiq");return{page:e.default||e}}])}},[["vlRD","5d41","9da1"]]]);