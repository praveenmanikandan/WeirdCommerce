(window.webpackJsonp=window.webpackJsonp||[]).push([["17a0"],{EZ4M:function(e,t,a){"use strict";a.r(t);var n=a("0iUn"),r=a("sLSF"),o=a("MI3g"),c=a("a7VT"),i=a("AT/M"),l=a("Tit0"),u=a("vYYK"),s=a("q1tI"),d=a.n(s),p=a("CafY"),h=a("Ktyj"),f=a("cmSt"),m=a("8cHP"),g=a("Mt1y"),b=a("aQu0"),O=a("vFsZ"),v=a("umxb"),C=a("pLir"),y=a("X47e"),j=a("QetY"),E=function(e){function t(e){var a;return Object(n.default)(this,t),a=Object(o.default)(this,Object(c.default)(t).call(this,e)),Object(u.a)(Object(i.default)(a),"handleCancel",function(){a.setState({open:!1})}),Object(u.a)(Object(i.default)(a),"handleConfirm",function(){a.setState({loading:!0});var e=a.state,t=e.productname,n=e.quantity,r=e.price,o=e.tag,c=e.products,i={productname:t,quantity:n,price:r,tag:o};c[a.props.productid]=i,h.a.firestore().collection("stores").doc(a.props.id).set({products:c},{merge:!0}),m.Router.pushRoute("/store")}),Object(u.a)(Object(i.default)(a),"handleOnChange",function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))}),Object(u.a)(Object(i.default)(a),"selectInput",function(e,t){var n=t.value;a.setState({tag:n})}),Object(u.a)(Object(i.default)(a),"onTagUpdate",function(e){var t=[];e.forEach(function(e){var a=e.data(),n=a.key,r=a.text,o=a.value;t.push({key:n,text:r,value:o})}),a.setState({tags:t})}),Object(u.a)(Object(i.default)(a),"handleOnSubmit",function(e){e.preventDefault(),a.setState({open:!0})}),Object(u.a)(Object(i.default)(a),"onCancel",function(){m.Router.pushRoute("/store")}),a.state={products:[],tags:[],tag:"",productname:"",quantity:"",price:"",store:"",open:!1},a.ref=h.a.firestore().collection("tags"),a.tags=null,a}return Object(l.default)(t,e),Object(r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.tags=this.ref.onSnapshot(this.onTagUpdate),h.a.firestore().collection("stores").doc(this.props.id).get().then(function(t){var a=t.data().products,n=a[e.props.productid],r=n.productname,o=n.price,c=n.tag,i=n.quantity;e.setState({products:a,productname:r,price:o,tag:c,quantity:i})})}},{key:"render",value:function(){return d.a.createElement(p.a,null,""===this.state.productname?d.a.createElement(f.a,null):d.a.createElement("div",null,d.a.createElement(g.a,{horizontal:!0,style:{margin:"10px"}},d.a.createElement(b.a,{as:"h3"},"Edit Product")),d.a.createElement("div",{style:{margin:"10px",borderStyle:"solid",borderColor:"#DCDCDC",borderWidth:"1px",padding:"10px"}},d.a.createElement(O.a,{style:{margin:"10px"},onSubmit:this.handleOnSubmit},d.a.createElement(O.a.Field,{required:!0,control:v.a,onChange:this.handleOnChange,label:"Product Name",value:this.state.productname,placeholder:"Product Name",name:"productname"}),d.a.createElement(O.a.Field,{required:!0,value:this.state.price,control:v.a,onChange:this.handleOnChange,label:"Price",placeholder:"Price",name:"price"}),d.a.createElement(O.a.Field,{label:"Tag",required:!0}),d.a.createElement(O.a.Field,null,d.a.createElement(C.a,{fluid:!0,search:!0,selection:!0,clearable:!0,name:"tag",placeholder:"Select Your Tag",options:this.state.tags,onChange:this.selectInput,value:this.state.tag})),d.a.createElement(O.a.Field,{required:!0,value:this.state.quantity,control:v.a,onChange:this.handleOnChange,label:"Quantity",placeholder:"Quantity",name:"quantity"}),d.a.createElement(y.a,{open:this.state.open,header:"Are you sure want to edit?",content:"If you click ok then your product will get edited.",onCancel:this.handleCancel,confirmButton:"Edit",onConfirm:this.handleConfirm}),d.a.createElement(j.a,{color:"blue",loading:this.state.loading},"Edit Product"),d.a.createElement(j.a,{color:"red",onClick:this.onCancel},"Cancel")))))}}],[{key:"getInitialProps",value:function(e){return{id:e.query.id,productid:e.query.productid}}}]),t}(s.Component);t.default=E},Mt1y:function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),o=a("TSYQ"),c=a.n(o),i=(a("17x9"),a("q1tI")),l=a.n(i),u=a("ZeOK"),s=a("ICNK"),d=a("Y53p"),p=a("H+2d");function h(e){var t=e.children,a=e.className,n=e.clearing,o=e.content,i=e.fitted,f=e.hidden,m=e.horizontal,g=e.inverted,b=e.section,O=e.vertical,v=c()("ui",Object(u.a)(n,"clearing"),Object(u.a)(i,"fitted"),Object(u.a)(f,"hidden"),Object(u.a)(m,"horizontal"),Object(u.a)(g,"inverted"),Object(u.a)(b,"section"),Object(u.a)(O,"vertical"),"divider",a),C=Object(s.a)(h,e),y=Object(d.a)(h,e);return l.a.createElement(y,r()({},C,{className:v}),p.a.isNil(t)?o:t)}h.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],h.propTypes={},t.a=h},X47e:function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),o=a("lwsE"),c=a.n(o),i=a("W8MJ"),l=a.n(i),u=a("a1gu"),s=a.n(u),d=a("Nsbk"),p=a.n(d),h=a("7W2i"),f=a.n(h),m=a("PJYZ"),g=a.n(m),b=a("lSNA"),O=a.n(b),v=a("OFL0"),C=a.n(v),y=a("Og4/"),j=a.n(y),E=(a("17x9"),a("q1tI")),P=a.n(E),S=a("ICNK"),k=a("QetY"),q=a("fuXp"),w=function(e){function t(){var e,a;c()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=s()(this,(e=p()(t)).call.apply(e,[this].concat(r))),O()(g()(g()(a)),"handleCancel",function(e){j()(a.props,"onCancel",e,a.props)}),O()(g()(g()(a)),"handleCancelOverrides",function(e){return{onClick:function(t,n){j()(e,"onClick",t,n),a.handleCancel(t)}}}),O()(g()(g()(a)),"handleConfirmOverrides",function(e){return{onClick:function(t,n){j()(e,"onClick",t,n),j()(a.props,"onConfirm",t,a.props)}}}),a}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,a=e.cancelButton,n=e.confirmButton,o=e.content,c=e.header,i=e.open,l=e.size,u=Object(S.a)(t,this.props),s={};return C()(this.props,"open")&&(s.open=i),P.a.createElement(q.a,r()({},u,s,{size:l,onClose:this.handleCancel}),q.a.Header.create(c,{autoGenerateKey:!1}),q.a.Content.create(o,{autoGenerateKey:!1}),P.a.createElement(q.a.Actions,null,k.a.create(a,{autoGenerateKey:!1,overrideProps:this.handleCancelOverrides}),k.a.create(n,{autoGenerateKey:!1,defaultProps:{primary:!0},overrideProps:this.handleConfirmOverrides})))}}]),t}(E.Component);O()(w,"defaultProps",{cancelButton:"Cancel",confirmButton:"OK",content:"Are you sure?",size:"small"}),O()(w,"handledProps",["cancelButton","confirmButton","content","header","onCancel","onConfirm","open","size"]),w.propTypes={},t.a=w},yDyO:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/store/editproduct",function(){var e=a("EZ4M");return{page:e.default||e}}])}},[["yDyO","5d41","9da1"]]]);