{"version":3,"file":"static/webpack/static/development/pages/chat.js.2a7fa162e846cc39ba6c.hot-update.js","sources":["webpack:///./components/chat/business.js","webpack:///./components/chat/personal.js","webpack:///./pages/chat.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Divider, Header, List, Icon } from \"semantic-ui-react\";\nimport firebase from \"../../firebase\";\nimport { Router } from \"../../routes\";\nimport Loader from \"../../components/loader\";\nclass Business extends Component {\n  state = { chats: null };\n\n  onChatUpdate = querySnapshot => {\n    const chats = [];\n    querySnapshot.forEach(doc => {\n      const { customername } = doc.data();\n      chats.push({\n        customername\n      });\n    });\n    this.setState({\n      chats\n    });\n  };\n\n  componentDidMount() {\n    const user = localStorage.getItem(\"userid\");\n    firebase\n      .firestore()\n      .collection(`users/${user}/storechat`)\n      .onSnapshot(this.onChatUpdate);\n    this.setState({ user });\n  }\n\n  render() {\n    return this.state.chats === null ? (\n      <Loader white />\n    ) : (\n      <div>\n        <Divider horizontal style={{ margin: \"10px\" }}>\n          <Header as=\"h3\">\n            <Icon name=\"chat\" />\n            Chat list\n          </Header>\n        </Divider>\n        {this.state.chats.length === 0 ? (\n          <div>\n            <h1\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                marginTop: \"100px\"\n              }}\n            >\n              No chat available\n            </h1>\n            <br />\n            <h5\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\"\n              }}\n            >\n              (Customers will message you if they want to bid)\n            </h5>\n          </div>\n        ) : (\n          <List>\n            {this.state.chats.map(chat => {\n              return (\n                <List.Item\n                  style={{ marginLeft: \"25px\", fontSize: \"18px\" }}\n                  onClick={() => {\n                    Router.pushRoute(`/storechat/${this.state.user}`);\n                  }}\n                >\n                  <a>{chat.customername}</a>\n                </List.Item>\n              );\n            })}\n          </List>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Business;\n","import React, { Component } from \"react\";\nimport { Divider, Header, List, Icon } from \"semantic-ui-react\";\nimport firebase from \"../../firebase\";\nimport { Router } from \"../../routes\";\nimport Loader from \"../../components/loader\";\nclass Personal extends Component {\n  state = { chats: null };\n\n  onChatUpdate = querySnapshot => {\n    const chats = [];\n    querySnapshot.forEach(doc => {\n      const { storename } = doc.data();\n      const id = doc.id;\n      chats.push({\n        storename,\n        id\n      });\n    });\n    this.setState({\n      chats\n    });\n  };\n\n  componentDidMount() {\n    const user = localStorage.getItem(\"userid\");\n    firebase\n      .firestore()\n      .collection(`users/${user}/chat`)\n      .onSnapshot(this.onChatUpdate);\n  }\n\n  render() {\n    return this.state.chats === null ? (\n      <Loader white />\n    ) : (\n      <div>\n        <Divider horizontal style={{ margin: \"10px\" }}>\n          <Header as=\"h3\">\n            <Icon name=\"chat\" />\n            Chat list\n          </Header>\n        </Divider>\n        {this.state.chats.length === 0 ? (\n          <div>\n            <h1\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                marginTop: \"100px\"\n              }}\n            >\n              No chat available\n            </h1>\n            <br />\n            <h5\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\"\n              }}\n            >\n              (To chat with store owners click bid in product page)\n            </h5>\n          </div>\n        ) : (\n          <List>\n            {this.state.chats.map(chat => {\n              return (\n                <List.Item\n                  style={{ marginLeft: \"25px\", fontSize: \"18px\" }}\n                  onClick={() => {\n                    Router.pushRoute(`/chat/${chat.id}`);\n                  }}\n                >\n                  <a>{chat.storename}</a>\n                </List.Item>\n              );\n            })}\n          </List>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Personal;\n","import React, { Component } from \"react\";\nimport Layout from \"../components/layout\";\nimport firebase from \"../firebase\";\nimport Business from \"../components/chat/business\";\nimport Personal from \"../components/chat/personal\";\nimport { Menu, Segment } from \"semantic-ui-react\";\nclass Chat extends Component {\n  state = {\n    activeItem: \"personal\"\n  };\n\n  handleItemClick = (e, { name }) => {\n    this.setState({ activeItem: name });\n  };\n\n  render() {\n    const { activeItem } = this.state;\n    return (\n      <Layout activeItem=\"chat\">\n        <div style={{ margin: \"10px\" }}>\n          <Menu attached=\"top\" tabular>\n            <Menu.Item\n              name=\"personal\"\n              active={activeItem === \"personal\"}\n              onClick={this.handleItemClick}\n            >\n              Personal Chat\n            </Menu.Item>\n            <Menu.Item\n              name=\"store\"\n              active={activeItem === \"store\"}\n              onClick={this.handleItemClick}\n            >\n              Business Chat\n            </Menu.Item>\n          </Menu>\n          <Segment\n            attached=\"bottom\"\n            id=\"segment\"\n            style={{ minHeight: \"400px\" }}\n          >\n            {activeItem === \"personal\" ? <Personal /> : <Business />}\n          </Segment>\n        </div>\n      </Layout>\n    );\n  }\n}\n\nexport default Chat;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AADA;AAGA;AACA;;;;;;AACA;AACA;AACA;AAIA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAOA;AACA;AACA;AACA;AAHA;AADA;AAWA;AACA;AACA;AAFA;AADA;AAYA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AASA;AAKA;;;;AA3EA;AACA;AA6EA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AADA;AAGA;AACA;;;;;;AACA;AACA;AACA;AAIA;;;AAEA;AACA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAOA;AACA;AACA;AACA;AAHA;AADA;AAWA;AACA;AACA;AAFA;AADA;AAYA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AASA;AAKA;;;;AA5EA;AACA;AA8EA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAQA;AACA;AACA;AAHA;AASA;AACA;AACA;AAAA;AAAA;AAHA;AAUA;;;;AAxCA;AACA;AA0CA;;;;;;;;;;A","sourceRoot":""}