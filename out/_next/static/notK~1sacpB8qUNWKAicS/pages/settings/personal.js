(window.webpackJsonp=window.webpackJsonp||[]).push([["e242"],{"/tmJ":function(e,t,a){"use strict";a.r(t);var n=a("0iUn"),s=a("sLSF"),l=a("MI3g"),r=a("a7VT"),o=a("AT/M"),i=a("Tit0"),d=a("vYYK"),c=a("q1tI"),h=a.n(c),u=a("cmSt"),m=a("Mt1y"),p=a("aQu0"),g=a("D1pA"),f=a("vFsZ"),b=a("umxb"),E=a("K0hk"),v=a("pLir"),y=a("TbSc"),C=a("QetY"),O=a("CafY"),S=a("Ktyj"),j=[{key:"m",text:"Male",value:"male"},{key:"f",text:"Female",value:"female"}],w=function(e){function t(){var e,a;Object(n.default)(this,t);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return a=Object(l.default)(this,(e=Object(r.default)(t)).call.apply(e,[this].concat(i))),Object(d.a)(Object(o.default)(a),"state",{firstname:"",errorcode:"",errormessage:"",failure:!1,lastname:"",success:!1,user:"",city:"",state:"",states:[],dooraddress:"",streetaddress:"",pincode:"",gender:"",loading:!1,phone:"",email:""}),Object(d.a)(Object(o.default)(a),"onStateUpdate",function(e){var t=[];e.forEach(function(e){var a=e.data(),n=a.key,s=a.text,l=a.value;t.push({key:n,text:s,value:l})}),a.setState({states:t})}),Object(d.a)(Object(o.default)(a),"handleSelect",function(e,t){var n=t.value;a.setState({gender:n})}),Object(d.a)(Object(o.default)(a),"handleStateSelect",function(e,t){var n=t.value;a.setState({state:n})}),Object(d.a)(Object(o.default)(a),"handleOnChange",function(e,t){var n=t.value;a.setState(Object(d.a)({},e.target.name,n))}),Object(d.a)(Object(o.default)(a),"handleEdit",function(){a.setState({loading:!0,failure:!1,success:!1});try{S.a.firestore().collection("users").doc(a.state.user).set({firstname:a.state.firstname,lastname:a.state.lastname,gender:a.state.gender,phone:a.state.phone,email:a.state.email,address:{pincode:a.state.pincode,dooraddress:a.state.dooraddress,streetaddress:a.state.streetaddress,city:a.state.city,state:a.state.state}},{merge:!0}).then(function(){a.setState({success:!0,loading:!1})})}catch(e){a.setState({error:!!e.message,loading:!1})}}),a}return Object(i.default)(t,e),Object(s.default)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.firestore().collection("states").onSnapshot(this.onStateUpdate);var t=localStorage.getItem("userid");S.a.firestore().collection("users").doc(t).get().then(function(a){var n=a.data(),s=n.firstname,l=n.lastname,r=n.address,o=n.gender,i=n.phone,d=n.email;e.setState({firstname:s,lastname:l,gender:o,phone:i,email:d,pincode:r.pincode,dooraddress:r.dooraddress,streetaddress:r.streetaddress,city:r.city,state:r.state,user:t})})}},{key:"render",value:function(){return""===this.state.user?h.a.createElement(O.a,null,h.a.createElement(u.a,null)):h.a.createElement(O.a,null,h.a.createElement(m.a,{horizontal:!0,style:{margin:"10px"}},h.a.createElement(p.a,{as:"h3"},h.a.createElement(g.a,{name:"edit"}),"Edit Personal Details")),h.a.createElement("div",{style:{margin:"10px",borderStyle:"solid",borderColor:"#DCDCDC",borderWidth:"1px",padding:"10px"}},h.a.createElement(f.a,{style:{margin:"10px"},onSubmit:this.handleSumbit},h.a.createElement(f.a.Group,{widths:"equal"},h.a.createElement(f.a.Field,{required:!0,control:b.a,label:"First name",placeholder:"First name",name:"firstname",value:this.state.firstname,onChange:this.handleOnChange}),h.a.createElement(f.a.Field,{required:!0,control:b.a,label:"Last name",placeholder:"Last name",name:"lastname",value:this.state.lastname,onChange:this.handleOnChange}),h.a.createElement(f.a.Field,{required:!0,control:E.a,label:"Gender",options:j,placeholder:"Gender",name:"gender",value:this.state.gender,onChange:this.handleSelect})),h.a.createElement(f.a.Group,{widths:"equal"},h.a.createElement(f.a.Field,{required:!0,control:b.a,label:"Email",placeholder:"Email",icon:"mail",iconPosition:"left",name:"email",value:this.state.email,onChange:this.handleOnChange,disabled:!0}),h.a.createElement(f.a.Field,{required:!0,control:b.a,label:"Phone",type:"phone",icon:"phone",iconPosition:"left",name:"phone",value:this.state.phone,onChange:this.handleOnChange})),h.a.createElement(f.a.Group,{widths:"equal"},h.a.createElement(f.a.Field,{required:!0,control:b.a,label:"Pincode",placeholder:"six digit [0-9]",name:"pincode",value:this.state.pincode,onChange:this.handleOnChange}),h.a.createElement(f.a.Field,{required:!0,control:b.a,label:"Door Address",placeholder:"Flat/ House NO./ Floor/ Building",name:"dooraddress",value:this.state.dooraddress,onChange:this.handleOnChange}),h.a.createElement(f.a.Field,{required:!0,control:b.a,label:"Street Address",placeholder:"Colony/ Street/ Locality",name:"streetaddress",value:this.state.streetaddress,onChange:this.handleOnChange})),h.a.createElement(f.a.Group,{widths:"equal"},h.a.createElement(f.a.Field,{required:!0,control:b.a,label:"City",placeholder:"Enter your city",name:"city",value:this.state.city,onChange:this.handleOnChange}),h.a.createElement(f.a.Field,{required:!0,control:v.a,label:"State",placeholder:"Select your state",fluid:!0,search:!0,selection:!0,clearable:!0,name:"state",options:this.state.states,value:this.state.state,onChange:this.handleStateSelect})),h.a.createElement(y.a,{success:!0,header:"Success!",content:"Your personal details edited successfully",visible:this.state.success}),h.a.createElement(y.a,{error:!0,header:this.state.errorcode,content:this.state.errormessage,visible:this.state.failure}),h.a.createElement(C.a,{color:"blue",loading:this.state.loading,onClick:this.handleEdit},"Edit"),h.a.createElement(C.a,{color:"red",href:"/settings"},"Cancel"),h.a.createElement(m.a,{horizontal:!0},"Or"),h.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},h.a.createElement(C.a,{color:"blue",href:"/settings/changepassword"},"Change Password")))))}}]),t}(c.Component);t.default=w},"W/UZ":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/personal",function(){var e=a("/tmJ");return{page:e.default||e}}])}},[["W/UZ","5d41","9da1"]]]);