(window.webpackJsonp=window.webpackJsonp||[]).push([["7486"],{"9BT8":function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/changepassword",function(){var e=t("O8qe");return{page:e.default||e}}])},O8qe:function(e,a,t){"use strict";t.r(a);var s=t("0iUn"),n=t("sLSF"),r=t("MI3g"),o=t("a7VT"),l=t("AT/M"),i=t("Tit0"),c=t("vYYK"),d=t("q1tI"),u=t.n(d),w=t("Ktyj"),h=t("Mt1y"),m=t("aQu0"),p=t("D1pA"),g=t("vFsZ"),f=t("umxb"),b=t("TbSc"),E=t("QetY"),O=t("cmSt"),C=t("CafY"),v=function(e){function a(){var e,t,n;Object(s.default)(this,a);for(var i=arguments.length,d=new Array(i),u=0;u<i;u++)d[u]=arguments[u];return n=Object(r.default)(this,(e=Object(o.default)(a)).call.apply(e,[this].concat(d))),Object(c.a)(Object(l.default)(n),"state",(t={email:"",user:"",password:"",oldpassword:"",success:!1,errormessage:""},Object(c.a)(t,"success",!1),Object(c.a)(t,"newpassword",""),Object(c.a)(t,"newpassword2",""),Object(c.a)(t,"loader",!1),t)),Object(c.a)(Object(l.default)(n),"handleOnChange",function(e,a){var t=a.value;n.setState(Object(c.a)({},e.target.name,t))}),Object(c.a)(Object(l.default)(n),"handleChange",function(){n.setState({loading:!0,errormessage:""});var e=w.a.auth().currentUser;try{if(n.state.oldpassword!==n.state.password)throw"Entered password is wrong!";if(n.state.newpassword!==n.state.newpassword2)throw"Confirmation password in wrong!";e.updatePassword(n.state.newpassword).then(function(){localStorage.setItem("password",n.state.newpassword),n.setState({success:!0,loading:!1})}).catch(function(e){n.setState({errormessage:e.message,loading:!1})})}catch(a){n.setState({errormessage:a,loading:!1})}}),n}return Object(i.default)(a,e),Object(n.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loader:!0});var a=localStorage.getItem("userid"),t=localStorage.getItem("password");w.a.firestore().collection("users").doc(a).get().then(function(s){var n=s.data().email;e.setState({email:n,user:a,password:t,loader:!1})})}},{key:"render",value:function(){return!0===this.state.loader?u.a.createElement(C.a,null,u.a.createElement(O.a,null)):u.a.createElement(C.a,null,u.a.createElement(h.a,{horizontal:!0,style:{margin:"10px"}},u.a.createElement(m.a,{as:"h3"},u.a.createElement(p.a,{name:"edit"}),"Change Password")),u.a.createElement("div",{style:{margin:"10px",borderStyle:"solid",borderColor:"#DCDCDC",borderWidth:"1px",padding:"10px"}},u.a.createElement(g.a,{style:{margin:"10px"},onSubmit:this.handleChange,error:!!this.state.errormessage},u.a.createElement(g.a.Field,{required:!0,control:f.a,label:"Email",placeholder:"Email",icon:"mail",iconPosition:"left",name:"email",value:this.state.email,onChange:this.handleOnChange,disabled:!0}),u.a.createElement(g.a.Field,{required:!0,control:f.a,label:"Old Password",type:"password",icon:"lock",iconPosition:"left",name:"oldpassword",value:this.state.oldpassword,onChange:this.handleOnChange}),u.a.createElement(g.a.Field,{required:!0,control:f.a,label:"New Password",type:"password",icon:"lock",iconPosition:"left",name:"newpassword",value:this.state.newpassword,onChange:this.handleOnChange}),u.a.createElement(g.a.Field,{required:!0,control:f.a,label:"Confirm New Password",type:"password",icon:"lock",iconPosition:"left",name:"newpassword2",value:this.state.newpassword2,onChange:this.handleOnChange}),u.a.createElement(b.a,{success:!0,header:"Success!",content:"New password successfully changed",visible:this.state.success}),u.a.createElement(b.a,{error:!0,content:this.state.errormessage,header:"Something went wrong!"}),u.a.createElement(E.a,{color:"blue",loading:this.state.loading},"Change Password"),u.a.createElement(E.a,{color:"red",href:"/settings"},"Cancel"),u.a.createElement(h.a,{horizontal:!0},"Or"),u.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},u.a.createElement(E.a,{color:"blue",href:"/settings/personal"},"Edit Personal Details")))))}}]),a}(d.Component);a.default=v}},[["9BT8","5d41","9da1"]]]);